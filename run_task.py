#!/usr/bin/env python
# -*- coding: utf-8 -*-
# Created by charles on 2019-06-06
# Function: 
import time
from task.task_processor import TaskProcessor


def main():
    tsp = TaskProcessor()
    tsp.start_all(rule_interval=120, publish_pin_interval=240, pinterest_update_interval=3600*6, shopify_update_interval=3600*6, update_new=900)
    while 1:
        time.sleep(1)


if __name__ == '__main__':
    main()

    # 获取类目
    #TaskProcessor().update_shopify_collections()

    # 更新产品
    #TaskProcessor().update_shopify_product()

    # 更新 规则
    # xx = {5: {2: [(1, '2018 Sexy Backless Bandage One-Piece', 'https://www.tiptopfree.com/products/sw6baa4fb5fde2'), (2, 'Animal Printed Flat Peep Toe Casual Travel Flat Sandals', 'https://www.tiptopfree.com/products/65e877e38760'), (3, 'Boho Vertical Stripe Wrap Dresses', 'https://www.tiptopfree.com/products/7f8e5fcfd923'), (4, 'Bow Tie Bikini', 'https://www.tiptopfree.com/products/bow-tie-bikini'), (5, 'Collarless  Feather  Long Sleeve Cardigans', 'https://www.tiptopfree.com/products/2e85d9091d43')], 3: [(6, 'Asymmetric Hem Plain Short Sleeve Skater Dresses', 'https://www.tiptopfree.com/products/23d3f387cec9'), (7, 'Backless Printed Sleeveless Bodycon Dresses', 'https://www.tiptopfree.com/products/a48c722e4958'), (8, 'Belt Plain Shift Dresses', 'https://www.tiptopfree.com/products/315a18f26450'), (9, 'Black Open Shoulder Lantern Sleeve Bodycon Dresses', 'https://www.tiptopfree.com/products/lv_1565615909'), (10, 'Boat Neck Color Block Casual Dress', 'https://www.tiptopfree.com/products/50221fef8387')], 4: [(11, 'Chest Knotted Openwork Print Ruffled Bikini', 'https://www.tiptopfree.com/products/788bc915a0e9'), (12, 'Collarless Chest Knotted Zigzag Striped Bikini', 'https://www.tiptopfree.com/products/0549c6e1b0ad'), (13, 'Collarless Striped Bikini', 'https://www.tiptopfree.com/products/5efd6a137be5'), (14, 'Crochet Plain Bikini', 'https://www.tiptopfree.com/products/0827fe9147de'), (15, 'Geometric Print Sexy Bikini', 'https://www.tiptopfree.com/products/0f609060e0e1')], 5: [(16, 'Autumn And Winter Fashion Pure Color Suit Blazers', 'https://www.tiptopfree.com/products/ins6cfaf3342a2c'), (17, 'Band Collar Decorative Buttons Plain Blazers', 'https://www.tiptopfree.com/products/099f8b26018d'), (18, 'Band Collar Double Breasted Plain Blazers', 'https://www.tiptopfree.com/products/ins28a8abe0521f'), (19, 'Band Collar Slit Plain Blazers', 'https://www.tiptopfree.com/products/9dba21880110'), (20, 'Collarless Dacron Plain Blazers', 'https://www.tiptopfree.com/products/e9c4623f5cee')], 6: [(21, 'Autumn And Winter Fashion Printing Long-Sleeved Blouses', 'https://www.tiptopfree.com/products/ins33ba1ae385e3'), (22, 'Band Collar Asymmetric Hem Patchwork Plain Blouses', 'https://www.tiptopfree.com/products/lv43cbd38d7f27'), (23, 'Band Collar Patchwork Lace Blouses', 'https://www.tiptopfree.com/products/lv684cd362fdfa'), (24, 'Band Collar Patchwork Plain Blouses', 'https://www.tiptopfree.com/products/lv93b5b9b22b71'), (25, 'Band Collar Plaid Bishop Sleeve Shirts&Blouses', 'https://www.tiptopfree.com/products/kels82b277bdc1ff')], 7: [(26, 'Backless Printed Sleeveless Bodycon Dresses', 'https://www.tiptopfree.com/products/a48c722e4958'), (27, 'Black Open Shoulder Lantern Sleeve Bodycon Dresses', 'https://www.tiptopfree.com/products/lv_1565615909'), (28, 'Boho Vertical Stripe Wrap Dresses', 'https://www.tiptopfree.com/products/7f8e5fcfd923'), (29, 'Casual Round Neck Sequins Long Sleeve Bodycon Dresses', 'https://www.tiptopfree.com/products/49badc9c30cf'), (30, 'Casual Sexy Deep V Neck Backless Sling Bodycon Dresses', 'https://www.tiptopfree.com/products/5383000a6304')]}, 6: {125: [(31, 'Arealook Black Chiffon Asymmetric Hem Plain Shift Casual Dresses', 'https://www.arealook.com/products/sku473957'), (32, 'Arealook Bohe Striped Women Casual Blouse', 'https://www.arealook.com/products/top6cf0d1a39f5a'), (33, 'Arealook Digital Printing Large Size Chiffon Jacket', 'https://www.arealook.com/products/digital-printing-large-size-chiffon-jacket'), (34, 'Arealook Fashion Bat Long Sleeve Loose Shirt', 'https://www.arealook.com/products/97013294dceb'), (35, 'Arealook Fashion Solid Color Tassel Long-Sleeved Denim Shirt', 'https://www.arealook.com/products/c47b91198d79')], 126: [(36, 'Arealook Bohemian Flat Peep Toe Casual Slippers', 'https://www.arealook.com/products/4fc06b897863ho'), (37, 'Arealook Women Flocking Pumps Sandals Casual Comfort Adjustable Buckle Shoes', 'https://www.arealook.com/products/pf18071801'), (38, 'Bohemia Style Sandal Flat Beach Shoes', 'https://www.arealook.com/products/sd1b52cdea86ec'), (39, 'Bohemian  Flat  Peep Toe  Casual Date Flat Sandals', 'https://www.arealook.com/products/ae83ae523786'), (40, 'Fashion Pin Toe   Flat Bottom With Buckle Sandals', 'https://www.arealook.com/products/500d96b4dc9d')], 127: [(41, '!!NEW IN!! Fashion Polka Dot Round Neck Long Sleeve Dresses', 'https://www.arealook.com/products/3f9f1e8560a0'), (42, 'Arealook 2019 V Collar Floral Printed Loose Vacation Dress', 'https://www.arealook.com/products/5bb3d44c5f86'), (43, 'Arealook Baggy And Fashionable Print Maxi Dress', 'https://www.arealook.com/products/xinse1afba882c4e'), (44, 'Arealook Bohemian Striped  Bell Sleeve Maxi Dresses', 'https://www.arealook.com/products/c39451457f2a'), (45, 'Arealook Casual Cotton/Linen Printed Sleeveless Dress', 'https://www.arealook.com/products/ins2ce928617003')], 129: [(46, 'Arealook Bohemia Long-Sleeved Tassel Printing Dress', 'https://www.arealook.com/products/321f27990bdb'), (47, 'Arealook Casual Cotton/Linen Printed Sleeveless Dress', 'https://www.arealook.com/products/ins2ce928617003'), (48, 'Arealook Chinese Butterfly Printed Maxi Shift Dress', 'https://www.arealook.com/products/ging5a30a4aac25b'), (49, 'Arealook Fashionable Casual V-Neck Dress', 'https://www.arealook.com/products/ins69c6f36dd4ef'), (50, 'Arealook Halter  Printed  Sleeveless Maxi Dresses', 'https://www.arealook.com/products/8ad0a5548637')], 130: [(51, 'Autumn Spring  Cotton  Women  Fold-Over Collar  Plain  Long Sleeve Blouses', 'https://www.arealook.com/products/cb8d4109d191'), (52, 'Band Collar Open Shoulder  Decorative Lace  Lace  Blouses', 'https://www.arealook.com/products/63f88fb00466'), (53, 'Beach Hairy Edge Big Cornice Shade Straw Hat', 'https://www.arealook.com/products/57652fee65f3'), (54, 'Casual Deep V Collar Short Sleeve T Shirt', 'https://www.arealook.com/products/ca0afe9dd318'), (55, 'Casual Lace V Neck Splicing Sleeveless Shirt', 'https://www.arealook.com/products/546bcbbc9910')], 131: [(56, 'Arealook Chinese Butterfly Printed Maxi Shift Dress', 'https://www.arealook.com/products/ging5a30a4aac25b'), (57, 'Arealook Floral Printed Maxi Shift Dress', 'https://www.arealook.com/products/ging446d80004996'), (58, 'Arealook Lace Spliced Chiffon Loose Dress', 'https://www.arealook.com/products/d66f6602cbf1'), (59, 'Arealook Sexy Floral Print Long Sleeves Vacation Maxi Dress', 'https://www.arealook.com/products/inded50f9e8db2'), (60, 'Arealook Sexy Side Split V Neck  Printed Sleeveless Casual Dresses', 'https://www.arealook.com/products/ifb7a208e7da2f')]}}
    # TaskProcessor().update_rule(xx)
